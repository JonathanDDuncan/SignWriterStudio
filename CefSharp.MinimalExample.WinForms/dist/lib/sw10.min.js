window.sw10=window.signwriting_2010=function(){var r=function(n,t){var i=n.match(/S[123][0-9a-f]{2}[0-5][0-9a-f]([0-9]{3}x[0-9]{3})?/g);return i?i[0]+(t?l(n):""):""},f=function(n,t){var i=n.match(/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/);return i?i[0]+(t?l(n):""):""},l=function(n){var t=n.match(/-C?(P[0-9]{2})?(G\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)\))?(D\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)(,([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+))?\))?(Z[0-9]+(\.[0-9]+)?)?(\+(D[0-9]{2}\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)(,([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+))?\))*(Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?)*)?/);return t?t[0]:""},it=function(t){if(t=r(t),!i(t))return"";var e=t.slice(0,4),o=t.slice(4,5),u=n(t.slice(5,6),16),s=e+"08",h=e+"18",f=0;for(i(s)||i(h)?f=8:((u===0||u===4)&&(f=0),(u===1||u===5)&&(f=6),(u===2||u===6)&&(f=4),(u===3||u===7)&&(f=2)),t="";!i(t);)u+=f,u>7&&f<8&&(u=u-8),u>15&&(u=u-16),t=e+o+u.toString(16);return t},rt=function(t,u){if(t=r(t),!i(t))return"";u!=-1&&(u=1);var e=t.slice(0,4),f=n(t.slice(4,5)),o=t.slice(5,6);for(t="";!i(t);)f+=u,f>5&&(f=0),f<0&&(f=5),t=e+f+o;return t},ut=function(t,u){if(t=r(t),!i(t))return"";u!=-1&&(u=1);var e=t.slice(0,4),o=t.slice(4,5),f=n(t.slice(5,6),16);for(t="";!i(t);)f>7?(f+=u,f>15&&(f=8),f<8&&(f=15),t=e+o+f.toString(16)):(f-=u,f>7&&(f=0),f<0&&(f=7),t=e+o+f);return t},ft=function(t,u){if(t=r(t),!i(t))return"";u!=-1&&(u=1);var e=n(t.slice(1,4),16)+u,o=t.slice(4,5),s=t.slice(5,6),f="S"+e.toString(16)+o+s;return i(f)?f:t},k=function(t,i,r){var u={kind:["S100","S37f","S387"],category:["S100","S205","S2f7","S2ff","S36d","S37f","S387"],group:["S100","S10e","S11e","S144","S14c","S186","S1a4","S1ba","S1cd","S1f5","S205","S216","S22a","S255","S265","S288","S2a6","S2b7","S2d5","S2e3","S2f7","S2ff","S30a","S32a","S33b","S359","S36d","S376","S37f","S387"]}[t],o,f,e;if(!u)return i?r==="is"?!1:"":[];if(!i&&!r)return u;r||(r="");switch(r){case"is":return u.indexOf(i.slice(0,4))===-1?!1:!0;case"first":return u[0];case"last":return u.slice(-1)[0];case"prev":o=-2;break;case"":o=-1;break;case"next":o=0;break;default:return""}for(f=u.length,e=0;e<u.length;e++)if(n(i.slice(1,4),16)<n(u[e].slice(1,4),16)){f=e;break}return f+=o,f=f<0?0:f>=u.length?u.length-1:f,u[f]},a=function(n){var t,i;switch(n){case"writing":t="100";i="37e";break;case"hand":t="100";i="204";break;case"movement":t="205";i="2f6";break;case"dynamic":t="2f7";i="2fe";break;case"head":case"hcenter":t="2ff";i="36c";break;case"vcenter":t="2ff";i="375";break;case"trunk":t="36d";i="375";break;case"limb":t="376";i="37e";break;case"location":t="37f";i="386";break;case"punctuation":t="387";i="38b";break;default:t="100";i="38b"}return[t,i]},e=function(t,r){if(t.length===6&&!i(t))return!1;var u=a(r),e=u[0],o=u[1],f=t.slice(1,4);return n(e,16)<=n(f,16)&&n(o,16)>=n(f,16)},d=function(n,t){var i=a(t),u=i[0],f=i[1],e="S"+s(u,f,"1")+"[0-5][0-9a-f][0-9]{3}x[0-9]{3}",r=n.match(new RegExp(e,"g"));return r?r.join(""):""},g=function(t){var r=a(t),u=r[0],e=r[1],o=Math.floor(Math.random()*(n(e,16)-n(u,16)+1)+n(u,16)),s=Math.floor(Math.random()*6),h=Math.floor(Math.random()*16),f="S"+o.toString(16)+s.toString(16)+h.toString(16);return i(f)?f:g(t)},v=function(n){var t="000000";return e(n,"hand")&&(t="0000CC"),e(n,"movement")&&(t="CC0000"),e(n,"dynamic")&&(t="FF0099"),e(n,"head")&&(t="006600"),e(n,"location")&&(t="884411"),e(n,"punctuation")&&(t="FF9900"),t},et=function(n,t){if(!e(n))return"";var r=n.slice(0,4);return t?r+(i(r+"00")?"0":"1")+"0":r+(e(r,"hand")&&!k("group",r,"is")?"1":"0")+"0"},u=function(t,i){var e,o=f(t),l,c,s,h;if(o){for(l="S[123][0-9a-f]{2}[0-5][0-9a-f]",c=o.match(new RegExp(l,"g")),s=0;s<c.length;s++)e=c[s],o=o.replace(e,u(e,i));return o}return(e=r(t),!e)?"":(h=1048576+(n(e.slice(1,4),16)-256)*96+n(e.slice(4,5),16)*16+n(e.slice(5,6),16)+1,i?h.toString(16).toUpperCase():String.fromCharCode(55296+(h-65536>>10),56320+(h-65536&1023)))},h=function(t,i){var u,s=f(t),y,l,c,e;if(s){for(y="S[123][0-9a-f]{2}[0-5][0-9a-f]",l=s.match(new RegExp(y,"g")),c=0;c<l.length;c++)u=l[c],s=s.replace(u,h(u,i));return s}if(u=r(t),!u)return"";var a=n(u.substr(1,3),16)+n("1D700",16),v=i?a.toString(16).toUpperCase():String.fromCharCode(55296+(a-65536>>10),56320+(a-65536&1023)),o=u.substr(4,1);return o!="0"&&(o=n(o,16)+n("1DA9A",16),v+=i?o.toString(16).toUpperCase():String.fromCharCode(55296+(o-65536>>10),56320+(o-65536&1023))),e=u.substr(5,1),e!="0"&&(e=n(e,16)+n("1DAA0",16),v+=i?e.toString(16).toUpperCase():String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))),v},o=function(t,i){var u=f(t),p,e,s,w,b,y,c,h,a,l;if(u){for(e=n("FD800",16),u=u.replace("A",i?e.toString(16).toUpperCase():String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))),u=u.replace("B",i?(e+1).toString(16).toUpperCase():String.fromCharCode(55296+(e+1-65536>>10),56320+(e+1-65536&1023))),u=u.replace("L",i?(e+2).toString(16).toUpperCase():String.fromCharCode(55296+(e+2-65536>>10),56320+(e+2-65536&1023))),u=u.replace("M",i?(e+3).toString(16).toUpperCase():String.fromCharCode(55296+(e+3-65536>>10),56320+(e+3-65536&1023))),u=u.replace("R",i?(e+4).toString(16).toUpperCase():String.fromCharCode(55296+(e+4-65536>>10),56320+(e+4-65536&1023))),y="[0-9]{3}x[0-9]{3}",c=u.match(new RegExp(y,"g")),h=0;h<c.length;h++)p=c[h],s=p.split("x"),s[0]=n(s[0])+n("FDD0C",16),s[1]=n(s[1])+n("FDD0C",16),b=i?s[0].toString(16).toUpperCase():String.fromCharCode(55296+(s[0]-65536>>10),56320+(s[0]-65536&1023)),b+=i?s[1].toString(16).toUpperCase():String.fromCharCode(55296+(s[1]-65536>>10),56320+(s[1]-65536&1023)),u=u.replace(p,b);for(y="S[123][0-9a-f]{2}[0-5][0-9a-f]",c=u.match(new RegExp(y,"g")),h=0;h<c.length;h++)w=c[h],u=u.replace(w,o(w,i));return u}if(a=r(t),!a)return"";var k=n(a.substr(1,3),16)+n("FD730",16),d=i?k.toString(16).toUpperCase():String.fromCharCode(55296+(k-65536>>10),56320+(k-65536&1023)),v=a.substr(4,1);return v=n(v,16)+n("FD810",16),d+=i?v.toString(16).toUpperCase():String.fromCharCode(55296+(v-65536>>10),56320+(v-65536&1023)),l=a.substr(5,1),l=n(l,16)+n("FD820",16),d+(i?l.toString(16).toUpperCase():String.fromCharCode(55296+(l-65536>>10),56320+(l-65536&1023)))},c=function(t){var r,u,f=Number.MAX_VALUE,e=Number.MIN_VALUE,o=Number.MAX_VALUE,s=Number.MIN_VALUE,h=t.match(/[0-9]{3}x[0-9]{3}/g),i;if(h){for(i=0;i<h.length;i++)r=n(h[i].slice(0,3)),u=n(h[i].slice(4,7)),i===0?(f=r,e=r,o=u,s=u):(f=Math.min(f,r),e=Math.max(e,r),o=Math.min(o,u),s=Math.max(s,u));return""+f+" "+e+" "+o+" "+s}return""},nt=function(t,i,r){var e,o,f=t.match(new RegExp("[0-9]{3}x[0-9]{3}","g")),u;if(f){for(u=0;u<f.length;u++)e=n(f[u].slice(0,3))+i,o=n(f[u].slice(4,7))+r,t=t.replace(f[u],e+"X"+o);t=t.replace(/X/g,"x")}return t},p={},i=function(n){var o,ut=f(n),h,t,rt,b,l,e,a,ft,v,y,k,d,i,w,g,nt,s,tt,it,et;if(ut){h=c(ut);h=h.split(" ");var ot=h[0],st=h[1],ht=h[2],ct=h[3];return(o=st-ot+"x"+(ct-ht),o==="0x0")?"":o}if(t=r(n),!t)return"";if(p[t])return p[t];l=2;e=76*l;a||(a=document.createElement("canvas"),a.width=e,a.height=e);ft=a;v=ft.getContext("2d");v.clearRect(0,0,e,e);v.font=30*l+"px 'SignWriting 2010'";v.fillText(u(t),0,0);rt=v.getImageData(0,0,e,e).data;n:for(y=e-1;y>=0;y--)for(k=0;k<e;k++)for(d=0;d<4;d++)if(b=y*4+k*4*e+d,rt[b])break n;i=y;n:for(w=e-1;w>=0;w--)for(g=0;g<i;g++)for(nt=0;nt<4;nt++)if(b=g*4+w*4*e+nt,rt[b])break n;if(s=w+1,i=""+Math.ceil(i/l),s=""+Math.ceil(s/l),"S1710d S1711d S1712d S17311 S17321 S17733 S1773f S17743 S1774f S17753 S1775f S16d33 S1713d S1714d S17301 S17329 S1715d".indexOf(t)>-1&&(i="20"),"S24c15 S24c30".indexOf(t)>-1&&(i="22"),"S2903b".indexOf(t)>-1&&(i="23"),"S1d203 S1d233".indexOf(t)>-1&&(i="25"),"S24c15".indexOf(t)>-1&&(i="28"),"S2e629".indexOf(t)>-1&&(i="29"),"S16541 S23425".indexOf(t)>-1&&(i="30"),"S2d316".indexOf(t)>-1&&(i="40"),"S2541a".indexOf(t)>-1&&(i="50"),"S1732f S17731 S17741 S17751".indexOf(t)>-1&&(s="20"),"S1412c".indexOf(t)>-1&&(s="21"),"S2a903".indexOf(t)>-1&&(s="31"),"S2b002".indexOf(t)>-1&&(s="36"),o=i+"x"+s,o==="0x0"){if(tt="S1000815x30 S1000921x30 S1000a30x15 S1000b30x21 S1000c15x30 S1000d21x30 ",it=tt.indexOf(t),it===-1)return"";et=tt.indexOf(" ",it);o=tt.slice(it+6,et)}return p[t]=o,o},y=function(t,r){var v=a(r),y=v[0],p=v[1],w="S"+s(y,p,"1")+"[0-5][0-9a-f][0-9]{3}x[0-9]{3}",f=t.match(new RegExp(w,"g")),e,o,h,c,l,u;if(f){for(l="",u=0;u<f.length;u++)e=f[u].slice(0,6),o=n(f[u].slice(6,9)),h=n(f[u].slice(10,13)),c=i(e).split("x"),l+=e+o+"x"+h+(o+n(c[0]))+"x"+(h+n(c[1]));return l}return""},ot=function(t){var u,f,e,o,s=c(y(t,"hcenter")),h=c(y(t,"vcenter")),i=c(y(t));if(!i)return"";h?(u=n(h.slice(0,3)),f=n(h.slice(4,7))):(u=n(i.slice(0,3)),f=n(i.slice(4,7)));s?(e=n(s.slice(8,11)),o=n(s.slice(12,15))):(e=n(i.slice(8,11)),o=n(i.slice(12,15)));var l=n((u+f)/2),a=n((e+o)/2),v=500-l,p=500-a,r=t.match(/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]/);return r=r?r[0]:"M",t=r+n(i.slice(4,7))+"x"+n(i.slice(12,15))+d(t),nt(t,v,p)},st=function(t,e){var ct=f(t),lt=l(t),dt,at,s,pt,it,g,ft,ti,p,et,ii,wt,ui,ri,fi,b,rt,y,bt,ut,ni,a,ht,w;if(!ct){if(at=r(t),dt=i(at),!dt)return"";ct=at.length===6?at+"500x500":at}if(e||(e={}),e.size=e.size?parseFloat(e.size)||"x":1,e.colorize=e.colorize?!0:!1,e.pad=e.pad?n(e.pad):0,e.line=e.line?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.line)?"#"+e.line:e.line:"black",e.fill=e.fill?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.fill)?"#"+e.fill:e.fill:"white",e.back=e.back?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.back)?"#"+e.back:e.back:"",e.E=[],e.F=[],e.view=e.view==="key"?"key":e.view==="uni8"?"uni8":e.view==="pua"?"pua":"code",e.copy=e.copy==="code"?"code":e.copy==="uni8"?"uni8":e.copy==="pua"?"pua":"key",lt){if(s=lt.match(/C/),e.colorize=s?!0:!1,s=lt.match(/P[0-9]{2}/),s&&(e.pad=n(s[0].substring(1,s[0].length))),s=lt.match(/G\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)\)/),s&&(pt=s[0].substring(2,s[0].length-1),e.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(pt)?"#"+pt:pt),it=lt.split("+"),s=it[0].match(/D\(([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+))?\)/),s&&(g=s[0].substring(2,s[0].length-1).split(","),g[0]&&(e.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(g[0])?"#"+g[0]:g[0]),g[1]&&(e.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(g[1])?"#"+g[1]:g[1])),s=it[0].match(/Z[0-9]+(\.[0-9]+)?/),s&&(e.size=s[0].substring(1,s[0].length)),it[1]||(it[1]=""),s=it[1].match(/D[0-9]{2}\(([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+))?\)/g),s)for(ft=0;ft<s.length;ft++)ti=n(s[ft].substring(1,3)),p=s[ft].substring(4,s[ft].length-1).split(","),p[0]&&(p[0]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(p[0])?"#"+p[0]:p[0]),p[1]&&(p[1]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(p[1])?"#"+p[1]:p[1]),e.E[ti]=p;if(s=it[1].match(/Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?/g),s)for(et=0;et<s.length;et++)ii=n(s[et].substring(1,3)),wt=s[et].substring(4,s[et].length).split(","),wt[0]=parseFloat(wt[0]),e.F[ii]=wt}ui=/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;ri=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;fi=/[0-9]{3}x[0-9]{3}/g;bt={};bt.L=-1;bt.R=1;var ot,k=500,nt=500,st,d=500,tt=500,gt,vt,yt,kt;for(gt=ct.charAt(0),ut=c(ct),ut=ut.split(" "),k=n(ut[0]),nt=n(ut[1]),d=n(ut[2]),tt=n(ut[3]),gt==="S"&&(k===500&&d===500?(ni=dt.split("x"),nt=500+n(ni[0]),tt=500+n(ni[1])):(nt=1e3-k,tt=1e3-d)),rt=ct.match(ri),a=0;a<rt.length;a++)b=rt[a].slice(0,6),ot=rt[a].slice(6,9),st=rt[a].slice(10,13),e.F[a+1]&&(e.F[a+1][1]&&(ot=n(ot)+n(e.F[a+1][1].slice(0,3))-500,st=n(st)+n(e.F[a+1][1].slice(4,7))-500,k=Math.min(k,ot),d=Math.min(d,st)),ht=i(b),ht&&(ht=ht.split("x"),nt=Math.max(nt,n(ot)+e.F[a+1][0]*n(ht[0])),tt=Math.max(tt,n(st)+e.F[a+1][0]*n(ht[1])))),y='<g transform="translate('+ot+","+st+')">',y+="<text ",y+='class="sym-fill" ',e.css||(y+="style=\"pointer-events:none;font-family:'SignWriting 2010 Filling';font-size:"+(e.F[a+1]?30*e.F[a+1][0]:30)+"px;fill:"+(e.E[a+1]?e.E[a+1][1]?e.E[a+1][1]:e.fill:e.fill)+";",y+=e.view==="code"?"":"-webkit-font-feature-settings:'liga';font-feature-settings:'liga';",y+='"'),y+=">",y+=e.view==="key"?b:e.view==="uni8"?h(b):e.view==="pua"?o(b):u(b),y+="<\/text>",y+="<text ",y+='class="sym-line" ',e.css||(y+='style="',y+=e.view===e.copy?"":"pointer-events:none;",y+="font-family:'SignWriting 2010';font-size:"+(e.F[a+1]?30*e.F[a+1][0]:30)+"px;fill:"+(e.E[a+1]?e.E[a+1][0]:e.colorize?"#"+v(b):e.line)+";",y+=e.view==="code"?"":"-webkit-font-feature-settings:'liga';font-feature-settings:'liga';",y+='"'),y+=">",y+=e.view==="key"?b:e.view==="uni8"?h(b):e.view==="pua"?o(b):u(b),y+="<\/text>",y+="<\/g>",rt[a]=y;return k=k-e.pad,nt=nt+e.pad,d=d-e.pad,tt=tt+e.pad,vt=nt-k,yt=tt-d,kt=bt[gt]||0,kt=kt*75+k-400,w='<svg xmlns="http://www.w3.org/2000/svg" ',e.classname&&(w+='class="'+e.classname+'" '),e.size!="x"&&(w+='width="'+vt*e.size+'" height="'+yt*e.size+'" '),w+='viewBox="'+k+" "+d+" "+vt+" "+yt+'">',e.view!=e.copy&&(w+='<text style="font-size:0%;">',w+=e.copy==="code"?u(t):e.copy==="uni8"?h(t):e.copy==="pua"?o(t):t,w+="<\/text>"),e.back&&(w+='  <rect x="'+k+'" y="'+d+'" width="'+vt+'" height="'+yt+'" style="fill:'+e.back+';" />'),w+=rt.join("")+"<\/svg>",e.laned&&(w='<div style="padding:10px;position:relative;width:'+vt+"px;height:"+yt+"px;left:"+kt+'px;">'+w+"<\/div>"),w},ht=function(t,e){var at,vt,ti,wt,s,dt,ft,tt,yt,fi,k,pt,ei,gt,si,oi,hi,p,et,y,ni,ii,w,lt,ui,a,ut,kt,b,nt;try{if(at=f(t),vt=l(t),!at){if(wt=r(t),ti=i(wt),!ti)return"";at=wt.length===6?wt+"500x500":wt}if(e||(e={}),e.size=e.size?parseFloat(e.size)||"x":1,e.colorize=e.colorize?!0:!1,e.pad=e.pad?n(e.pad):0,e.line=e.line?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.line)?"#"+e.line:e.line:"black",e.fill=e.fill?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.fill)?"#"+e.fill:e.fill:"white",e.back=e.back?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.back)?"#"+e.back:e.back:"",e.E=[],e.F=[],e.view=e.view==="key"?"key":e.view==="uni8"?"uni8":e.view==="pua"?"pua":"code",e.copy=e.copy==="code"?"code":e.copy==="uni8"?"uni8":e.copy==="pua"?"pua":"key",vt){if(s=vt.match(/C/),e.colorize=s?!0:!1,s=vt.match(/P[0-9]{2}/),s&&(e.pad=n(s[0].substring(1,s[0].length))),s=vt.match(/G\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)\)/),s&&(dt=s[0].substring(2,s[0].length-1),e.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(dt)?"#"+dt:dt),ft=vt.split("+"),s=ft[0].match(/D\(([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+))?\)/),s&&(tt=s[0].substring(2,s[0].length-1).split(","),tt[0]&&(e.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(tt[0])?"#"+tt[0]:tt[0]),tt[1]&&(e.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(tt[1])?"#"+tt[1]:tt[1])),s=ft[0].match(/Z[0-9]+(\.[0-9]+)?/),s&&(e.size=s[0].substring(1,s[0].length)),ft[1]||(ft[1]=""),s=ft[1].match(/D[0-9]{2}\(([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+))?\)/g),s)for(yt=0;yt<s.length;yt++)fi=n(s[yt].substring(1,3)),k=s[yt].substring(4,s[yt].length-1).split(","),k[0]&&(k[0]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(k[0])?"#"+k[0]:k[0]),k[1]&&(k[1]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(k[1])?"#"+k[1]:k[1]),e.E[fi]=k;if(s=ft[1].match(/Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?/g),s)for(pt=0;pt<s.length;pt++)ei=n(s[pt].substring(1,3)),gt=s[pt].substring(4,s[pt].length).split(","),gt[0]=parseFloat(gt[0]),e.F[ei]=gt}si=/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;oi=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;hi=/[0-9]{3}x[0-9]{3}/g;ni={};ni.L=-1;ni.R=1;var ot,d=500,it=500,st,g=500,rt=500,ri,ht,ct,bt;for(ri=at.charAt(0),lt=c(at),lt=lt.split(" "),d=n(lt[0]),it=n(lt[1]),g=n(lt[2]),rt=n(lt[3]),ri==="S"&&(d===500&&g===500?(ui=ti.split("x"),it=500+n(ui[0]),rt=500+n(ui[1])):(it=1e3-d,rt=1e3-g)),et=at.match(oi),ii=[],a=0;a<et.length;a++)p=et[a].slice(0,6),ot=et[a].slice(6,9),st=et[a].slice(10,13),e.F[a+1]&&(e.F[a+1][1]&&(ot=n(ot)+n(e.F[a+1][1].slice(0,3))-500,st=n(st)+n(e.F[a+1][1].slice(4,7))-500,d=Math.min(d,ot),g=Math.min(g,st)),ut=i(p),ut&&(ut=ut.split("x"),w.width=parseInt(ut[0]),w.height=parseInt(ut[1]),it=Math.max(it,n(ot)+e.F[a+1][0]*n(ut[0])),rt=Math.max(rt,n(st)+e.F[a+1][0]*n(ut[1])))),w={},w.x=parseInt(ot),w.y=parseInt(st),kt=i(p),kt=kt.split("x"),w.width=parseInt(kt[0]),w.height=parseInt(kt[1]),y='<g transform="translate('+ot+","+st+')">',y+="<text ",y+='class="sym-fill" ',e.css||(w.fontsize=e.F[a+1]?30*e.F[a+1][0]:30,w.nwcolor=e.E[a+1]?e.E[a+1][1]?e.E[a+1][1]:e.fill:e.fill,y+="style=\"pointer-events:none;font-family:'SignWriting 2010 Filling';font-size:"+(e.F[a+1]?30*e.F[a+1][0]:30)+"px;fill:"+(e.E[a+1]?e.E[a+1][1]?e.E[a+1][1]:e.fill:e.fill)+";",y+=e.view==="code"?"":"-webkit-font-feature-settings:'liga';font-feature-settings:'liga';",y+='"'),y+=">",w.pua=o(p),w.code=u(p).codePointAt(),w.key=p,y+=e.view==="key"?p:e.view==="uni8"?h(p):e.view==="pua"?o(p):u(p),y+="<\/text>",y+="<text ",y+='class="sym-line" ',e.css||(y+='style="',y+=e.view===e.copy?"":"pointer-events:none;",w.nbcolor=e.E[a+1]?e.E[a+1][0]:e.colorize?"#"+v(p):e.line,y+="font-family:'SignWriting 2010';font-size:"+(e.F[a+1]?30*e.F[a+1][0]:30)+"px;fill:"+(e.E[a+1]?e.E[a+1][0]:e.colorize?"#"+v(p):e.line)+";",y+=e.view==="code"?"":"-webkit-font-feature-settings:'liga';font-feature-settings:'liga';",y+='"'),y+=">",y+=e.view==="key"?p:e.view==="uni8"?h(p):e.view==="pua"?o(p):u(p),y+="<\/text>",y+="<\/g>",et[a]=y,ii[a]=w;d=d-e.pad;it=it+e.pad;g=g-e.pad;rt=rt+e.pad;ht=it-d;ct=rt-g;bt=ni[ri]||0;bt=bt*75+d-400;b={};nt='<svg xmlns="http://www.w3.org/2000/svg" ';e.classname&&(nt+='class="'+e.classname+'" ',b.class=e.classname);e.size!="x"&&(nt+='width="'+ht*e.size+'" height="'+ct*e.size+'" ');b.width=ht*e.size;b.height=ct*e.size;nt+='viewBox="'+d+" "+g+" "+ht+" "+ct+'">';b.text=t;e.view!=e.copy&&(nt+='<text style="font-size:0%;">',nt+=e.copy==="code"?u(t):e.copy==="uni8"?h(t):e.copy==="pua"?o(t):t,nt+="<\/text>");e.back&&(nt+='  <rect x="'+d+'" y="'+g+'" width="'+ht+'" height="'+ct+'" style="fill:'+e.back+';" />');b.x=d;b.y=g;b.width=ht;b.height=ct;b.backfill=e.back;nt+=et.join("")+"<\/svg>";b.syms=ii;e.laned&&(nt='<div style="padding:10px;position:relative;width:'+ht+"px;height:"+ct+"px;left:"+bt+'px;">'+nt+"<\/div>");b.laned=e.laned?!0:!1;b.left=bt}catch(ci){alert(ci)}return b},tt=function(t,e){var at=document.createElement("canvas"),ft=f(t,!0),lt=l(t),gt,et,o,vt,it,tt,ot,ni,h,st,ti,yt,ri,pt,ui,rt,k,wt,ut,dt,b,ht,nt,s,ct;if(!ft){if(et=r(t),gt=i(et),!et)return"";ft=et.length===6?et+"500x500":et}if(e||(e={}),e.size=e.size?parseFloat(e.size):1,e.colorize=e.colorize?!0:!1,e.pad=e.pad?n(e.pad):0,e.line=e.line?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.line)?"#"+e.line:e.line:"black",e.fill=e.fill?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.fill)?"#"+e.fill:e.fill:"white",e.back=e.back?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.back)?"#"+e.back:e.back:"",e.E=[],e.F=[],lt){if(o=lt.match(/C/),e.colorize=o?!0:!1,o=lt.match(/P[0-9]{2}/),o&&(e.pad=n(o[0].substring(1,o[0].length))),o=lt.match(/G\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)\)/),o&&(vt=o[0].substring(2,o[0].length-1),e.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(vt)?"#"+vt:vt),it=lt.split("+"),o=it[0].match(/D\(([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+))?\)/),o&&(tt=o[0].substring(2,o[0].length-1).split(","),tt[0]&&(e.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(tt[0])?"#"+tt[0]:tt[0]),tt[1]&&(e.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(tt[1])?"#"+tt[1]:tt[1])),o=it[0].match(/Z[0-9]+(\.[0-9]+)?/),o&&(e.size=o[0].substring(1,o[0].length)),it[1]||(it[1]=""),o=it[1].match(/D[0-9]{2}\(([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+))?\)/g),o)for(ot=0;ot<o.length;ot++)ni=n(o[ot].substring(1,3)),h=o[ot].substring(4,o[ot].length-1).split(","),h[0]&&(h[0]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(h[0])?"#"+h[0]:h[0]),h[1]&&(h[1]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(h[1])?"#"+h[1]:h[1]),e.E[ni]=h;if(o=it[1].match(/Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?/g),o)for(st=0;st<o.length;st++)ti=n(o[st].substring(1,3)),yt=o[st].substring(4,o[st].length).split(","),yt[0]=parseFloat(yt[0]),e.F[ti]=yt}ri=/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;pt=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;ui=/[0-9]{3}x[0-9]{3}/g;wt={};wt.L=-1;wt.R=1;var a,y=500,d=500,p,w=500,g=500,ii,bt,kt;for(ii=ft.charAt(0),ut=c(ft),ut=ut.split(" "),y=n(ut[0]),d=n(ut[1]),w=n(ut[2]),g=n(ut[3]),ii==="S"&&(y===500&&w===500?(dt=gt.split("x"),d=500+n(dt[0]),g=500+n(dt[1])):(d=1e3-y,g=1e3-w)),k=ft.match(pt),b=0;b<k.length;b++)rt=k[b].slice(0,6),a=k[b].slice(6,9),p=k[b].slice(10,13),e.F[b+1]&&(e.F[b+1][1]&&(a=n(a)+n(e.F[b+1][1].slice(0,3))-500,p=n(p)+n(e.F[b+1][1].slice(4,7))-500,y=Math.min(y,a),w=Math.min(w,p)),ht=i(rt),ht&&(ht=ht.split("x"),d=Math.max(d,n(a)+e.F[b+1][0]*n(ht[0])),g=Math.max(g,n(p)+e.F[b+1][0]*n(ht[1]))));for(y=y-e.pad,d=d+e.pad,w=w-e.pad,g=g+e.pad,bt=(d-y)*e.size,kt=(g-w)*e.size,at.width=bt,at.height=kt,nt=at.getContext("2d"),e.back&&(nt.rect(0,0,bt,kt),nt.fillStyle=e.back,nt.fill()),k=ft.match(pt),s=0;s<k.length;s++)rt=k[s].slice(0,6),a=k[s].slice(6,9),p=k[s].slice(10,13),e.F[s+1]&&(e.F[s+1][1]&&(a=n(a)+n(e.F[s+1][1].slice(0,3))-500,p=n(p)+n(e.F[s+1][1].slice(4,7))-500,y=Math.min(y,a),w=Math.min(w,p)),ct=i(rt),ct&&(ct=ct.split("x"),d=Math.max(d,n(a)+e.F[s+1][0]*n(ct[0])),g=Math.max(g,n(p)+e.F[s+1][0]*n(ct[1])))),nt.font=(e.F[s+1]?30*e.size*e.F[s+1][0]:30*e.size)+"px 'SignWriting 2010 Filling'",nt.fillStyle=e.E[s+1]?e.E[s+1][1]?e.E[s+1][1]:e.fill:e.fill,nt.fillText(u(rt),(a-y)*e.size,(p-w)*e.size),nt.font=(e.F[s+1]?30*e.size*e.F[s+1][0]:30*e.size)+"px 'SignWriting 2010'",nt.fillStyle=e.E[s+1]?e.E[s+1][0]:e.colorize?"#"+v(rt):e.line,nt.fillText(u(rt),(a-y)*e.size,(p-w)*e.size);return at},ct=function(n,t){if(f(n,!0)||r(n,!0)){var i=tt(n,t),u=i.toDataURL("image/png");return i.remove(),u}return""},w=function(n){return n=n.match(/Q((A(S[123][0-9a-f]{2}[0-5u][0-9a-fu]|R[123][0-9a-f]{2}t[123][0-9a-f]{2})+)?T)?((R[123][0-9a-f]{2}t[123][0-9a-f]{2}([0-9]{3}x[0-9]{3})?)|(S[123][0-9a-f]{2}[0-5u][0-9a-fu]([0-9]{3}x[0-9]{3})?))*(V[0-9]+)?/),n?n[0]:""},s=function(t,i,r){var u,o,f,e,c,s,h;if(r||(r=""),t=("000"+t).slice(-3),i=""+i,u="",t===i)return t;if(o=[],!(t[0]===i[0]&&t[1]===i[1])&&t[2]!="0")if(u=t[0]+t[1],r){switch(t[2]){case"f":u+="f";break;case"e":u+="[ef]";break;case"d":case"c":case"b":case"a":u+="["+t[2]+"-f]";break;default:switch(t[2]){case"9":u+="[9a-f]";break;case"8":u+="[89a-f]";break;default:u+="["+t[2]+"-9a-f]"}}f=16-n(t[2],16);t=""+(n(t,16)+f).toString(16);o.push(u)}else{switch(t[2]){case"9":u+="9";break;case"8":u+="[89]";break;default:u+="["+t[2]+"-9]"}f=10-t[2];t=""+(t*1+f);o.push(u)}if(u="",t[0]!=i[0]&&t[1]!="0")if(r){u=t[0];switch(t[1]){case"f":u+="f";break;case"e":u+="[ef]";break;case"d":case"c":case"b":case"a":u+="["+t[1]+"-f]";break;case"9":u+="[9a-f]";break;case"8":u+="[89a-f]";break;default:u+="["+t[1]+"-9a-f]"}u+="[0-9a-f]";f=16-n(t[1],16);t=""+(n(t,16)+f*16).toString(16);o.push(u)}else{u=t[0];f=10-t[1];switch(t[1]){case"9":u+="9";break;case"8":u+="[89]";break;default:u+="["+t[1]+"-9]"}u+="[0-9]";f=10-t[1];t=""+(t*1+f*10);o.push(u)}if(u="",t[0]!=i[0])if(r){f=n(i[0],16)-n(t[0],16);e=(n(t[0],16)+f-1).toString(16);switch(f){case 1:u=t[0];break;case 2:u="["+t[0]+e+"]";break;default:s=n(t[0],16)>9?"h":"d";h=n(e,16)>9?"h":"d";switch(s+h){case"dd":u+="["+t[0]+"-"+e+"]";break;case"dh":f=9-t[0];switch(f){case 0:u+="[9";break;case 1:u+="[89";break;default:u+="["+t[0]+"-9"}switch(e[0]){case"a":u+="a]";break;case"b":u+="ab]";break;default:u+="a-"+e+"]"}break;case"hh":u+="["+t[0]+"-"+e+"]"}}u+="[0-9a-f][0-9a-f]";f=n(i[0],16)-n(t[0],16);t=""+(n(t,16)+f*256).toString(16);o.push(u)}else{f=i[0]-t[0];e=t[0]*1+f-1;switch(f){case 1:u=t[0];break;case 2:u="["+t[0]+e+"]";break;default:u="["+t[0]+"-"+e+"]"}u+="[0-9][0-9]";t=""+(t*1+f*100);o.push(u)}if(u="",t[1]!=i[1])if(r){f=n(i[1],16)-n(t[1],16);e=(n(t[1],16)+f-1).toString(16);u=t[0];switch(f){case 1:u+=t[1];break;case 2:u+="["+t[1]+e+"]";break;default:s=n(t[1],16)>9?"h":"d";h=n(e,16)>9?"h":"d";switch(s+h){case"dd":u+="["+t[1];f>1&&(u+="-");u+=e+"]";break;case"dh":f=9-t[1];switch(f){case 0:u+="[9";break;case 1:u+="[89";break;default:u+="["+t[1]+"-9"}switch(i[1]){case"a":u+="]";break;case"b":u+="a]";break;default:u+="a-"+(n(i[1],16)-1).toString(16)+"]"}break;case"hh":u+="["+t[1];f>1&&(u+="-");u+=(n(i[1],16)-1).toString(16)+"]"}}u+="[0-9a-f]";f=n(i[1],16)-n(t[1],16);t=""+(n(t,16)+f*16).toString(16);o.push(u)}else{f=i[1]-t[1];e=t[1]*1+f-1;u=t[0];switch(f){case 1:u+=t[1];break;case 2:u+="["+t[1]+e+"]";break;default:u+="["+t[1]+"-"+e+"]"}u+="[0-9]";t=""+(t*1+f*10);o.push(u)}if(u="",t[2]!=i[2])if(r){u=t[0]+t[1];f=n(i[2],16)-n(t[2],16);s=n(t[2],16)>9?"h":"d";h=n(i[2],16)>9?"h":"d";switch(s+h){case"dd":u+="["+t[2];f>1&&(u+="-");u+=i[2]+"]";break;case"dh":f=9-t[2];switch(f){case 0:u+="[9";break;case 1:u+="[89";break;default:u+="["+t[2]+"-9"}switch(i[2]){case"a":u+="a]";break;case"b":u+="ab]";break;default:u+="a-"+i[2]+"]"}break;case"hh":u+="["+t[2];f>1&&(u+="-");u+=i[2]+"]"}f=n(i[2],16)-n(t[2],16);t=""+(n(t,16)+f).toString(16);o.push(u)}else{f=i[2]-t[2];u=t[0]+t[1];switch(f){case 0:u+=t[2];break;case 1:u+="["+t[2]+i[2]+"]";break;default:u+="["+t[2]+"-"+i[2]+"]"}t=""+(t*1+f);o.push(u)}return u="",t[2]==="0"&&i[2]==="0"&&(u=i,o.push(u)),u="",c=o.length,c===1?u=o[0]:(u=o.join(")|("),u="(("+u+"))"),u},b=function(n,t){var d,r,g,nt,tt,i,f,e,ct,o,h,a,b,rt,v,y,k,ht,ut,ft,et,ot;if(n=w(n),!n)return"";t||(t=20);var c="S[123][0-9a-f]{2}[0-5][0-9a-f]",l="[0-9]{3}x[0-9]{3}",p="[BLMR]("+l+")("+c+l+")*",it="(A("+c+")+)",lt="R[123][0-9a-f]{2}t[123][0-9a-f]{2}",st="S[123][0-9a-f]{2}[0-5u][0-9a-fu]",at="([0-9]{3}x[0-9]{3})?",u;if(n=w(n),!n)return"";if(n==="Q")return[it+"?"+p];if(n==="QT")return[it+p];if(a=[],b=n.indexOf("T")+1,b)if(u="(A",rt=n.slice(0,b),n=n.replace(rt,""),rt==="QT")u+="("+c+")+)";else if(v=rt.match(new RegExp("("+st+"|"+lt+")","g")),v){for(y=0;y<v.length;y++)k=v[y].match(new RegExp(st)),k?(i=k[0].slice(0,4),o=k[0].slice(4,5),i+=o==="u"?"[0-5]":o,h=k[0].slice(5,6),i+=h==="u"?"[0-9a-f]":h,u+=i):(g=v[y].slice(1,4),nt=v[y].slice(5,8),tt=s(g,nt,"hex"),i="S"+tt+"[0-5][0-9a-f]",u+=i);u+="("+c+")*)"}if(ht=n.match(new RegExp("(V[0-9]+)","g")),ht&&(t=ht.toString().slice(1)*1),d=st+at,ut=n.match(new RegExp(d,"g")),ut)for(ft=0;ft<ut.length;ft++)r=ut[ft].toString(),ct=r.slice(1,4),i="S"+ct,o=r.slice(4,5),i+=o==="u"?"[0-5]":o,h=r.slice(5,6),i+=h==="u"?"[0-9a-f]":h,r.length>6?(f=r.slice(6,9)*1,e=r.slice(10,13)*1,i+=s(f-t,f+t),i+="x",i+=s(e-t,e+t)):i+=l,i=p+i+"("+c+l+")*",i=b?u+i:it+"?"+i,a.push(i);if(d=lt+at,et=n.match(new RegExp(d,"g")),et)for(ot=0;ot<et.length;ot++)r=et[ot].toString(),g=r.slice(1,4),nt=r.slice(5,8),tt=s(g,nt,"hex"),i="S"+tt+"[0-5][0-9a-f]",r.length>8?(f=r.slice(8,11)*1,e=r.slice(12,15)*1,i+=s(f-t,f+t),i+="x",i+=s(e-t,e+t)):i+=l,i=p+i+"("+c+l+")*",i=b?u+i:it+"?"+i,a.push(i);return a.length||a.push(u+p),a},lt=function(n,t,i){var o,f,s,e,r,u;if(!t)return[];if(("BLMR".indexOf(i)===-1||i.length>1)&&(i=""),r=b(n),!r)return[];for(u=0;u<r.length;u++)o=r[u],f=t.match(new RegExp(o,"g")),t=f?f.join(" "):"";return t?(i&&(t=t.replace(/B/g,i),t=t.replace(/L/g,i),t=t.replace(/M/g,i),t=t.replace(/R/g,i)),s=t.split(" "),e=s.filter(function(n){return n in this?!1:this[n]=!0},{})):e=[],e},at=function(n,t,i){var r,e,s,o,u,f;if(!t)return[];if(("BLMR".indexOf(i)===-1||i.length>1)&&(i=""),u=b(n),!u)return[];for(f=0;f<u.length;f++)r=u[f],r="^"+r+".*",e=t.match(new RegExp(r,"mg")),t=e?e.join("\n"):"";return t?(i&&(t=t.replace(/B/g,i),t=t.replace(/L/g,i),t=t.replace(/M/g,i),t=t.replace(/R/g,i)),s=t.split("\n"),o=s.filter(function(n){return n in this?!1:this[n]=!0},{})):o=[],o},vt=function(n,t){var r="",e,u;if(f(n)&&/^[eg]?([EG]L?)?$/.test(t)){var s="S[123][0-9a-f]{2}",h=s+"[0-5][0-9a-f]",i,o;if((t.indexOf("e")>-1||t.indexOf("g")>-1)&&(i=n.match(new RegExp("A("+h+")*","g")),i))if(o=i[0],t.indexOf("e")>-1)r+=o+"T";else{for(i=o.match(new RegExp(s,"g")),r+="A",e=0;e<i.length;e++)r+=i[e]+"uu";r+="T"}if((t.indexOf("E")>-1||t.indexOf("G")>-1)&&(i=n.match(new RegExp(h+"[0-9]{3}x[0-9]{3}","g")),i))for(u=0;u<i.length;u++)r+=t.indexOf("E")>-1?i[u].slice(0,6):i[u].slice(0,4)+"uu",t.indexOf("L")>-1&&(r+=i[u].slice(6,13))}return r?"Q"+r:""},n=function(n,t){return parseInt(n,t)},t={};return t.key=r,t.fsw=f,t.styling=l,t.mirror=it,t.fill=rt,t.rotate=ut,t.scroll=ft,t.structure=k,t.type=a,t.is=e,t.filter=d,t.random=g,t.colorize=v,t.view=et,t.svg=st,t.symbolsList=ht,t.code=u,t.uni8=h,t.pua=o,t.bbox=c,t.displace=nt,t.size=i,t.max=y,t.norm=ot,t.canvas=tt,t.png=ct,t.query=w,t.range=s,t.regex=b,t.results=lt,t.lines=at,t.convert=vt,t}();
//# sourceMappingURL=sw10.min.js.map
